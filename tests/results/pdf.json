{
  "content": [
    {
      "title": "Automatizaci칩n de reportes",
      "content": "API para automatizaci칩n de generaci칩n de reportes de Anal칤tica. El sistema es una API de Python y Flask que dispara la ejecuci칩n de los reportes cuando recibe una HTTP request, la cual es lanzada por un trigger de DB mediante un curl. Una vez accionadas las funciones de ejecuci칩n de reportes, estos comenzar치n a ser generados seg칰n las queries y configuraciones ubicadas en reportes.json , las cuales definen que par치metros usan, cu치ndo y con qu칠 fechas son ejecutados, entre otras configuraciones. ",
      "ntitle": 18,
      "pages": [
        0,
        0
      ],
      "links": false
    },
    {
      "title": "Instalaci칩n",
      "content": "丘멆잺 Importante estar localizado en el directorio principal del proyecto. Para instalar el script simplemente hay que ejecutar en la terminal el script de instalar.bat ./instalar.bat Luego de eso se crear치 un entorno virtual de python y se instalar치n las librer칤as necesarias para el funcionamiento del c칩digo. Finalmente mostrar치 un mensaje de confirmaci칩n. ",
      "ntitle": 10,
      "pages": [
        0,
        0
      ],
      "links": false
    },
    {
      "title": "Ejecuci칩n",
      "content": "丘멆잺 Importante estar localizado en el directorio principal del proyecto. Para ejecutar la API necesitamos ejecutar el archivo de ejecutar.bat una vez ya se hayan instalado las librer칤as. ./ejecutar.bat Automatizaci칩n de reportes 1 游녤 Nota: al ejecutar este programa, dado que es una API, no veremos una ejecuci칩n directa de los reportes y queries a la base de datos, m치s bien se ver치 un mensaje de que nuestro programa de servidor esta en modo listen esperando por una HTTP request. ",
      "ntitle": 10,
      "pages": [
        0,
        1
      ],
      "links": false
    },
    {
      "title": "쮺칩mo Agregar un reporte?",
      "content": "Los reportes se agregan en el archivo de reportes.json , que es la lista que se encarga de decirle al sistema que reportes ejecutar? cu치ndo ejecutarlos y m치s par치metros personalizables. Dentro de este archivo encontramos la siguiente estructura: { \"credenciales\": { \"usuario\": \"<usuario de sharepoint>\", \"contrasena\": \"<contrase침a del usuario de sharepoint>\" }, \"reportes_automaticos\": { ... }, \"especiales\": { ... } } Las credenciales son las que se usan en los reportes autom치ticos para subirlos al sharepoint, los especiales tienen sus propias credenciales. Los reportes_automaticos y especiales contienen la lista de reportes as칤 como sus respectivas configuraciones, su estructura est치 definida abajo as칤 como gu칤as para ayudarte a determinar donde colocar tu reporte nuevo. Automatizaci칩n de reportes 2 ",
      "ntitle": 10,
      "pages": [
        1,
        2
      ],
      "links": false
    },
    {
      "title": "autom치tico",
      "content": "\"<nombre del reporte>\": { \"horario\": \"<puede ser: diario, semanal, mensual o trimestral>\", \"query\": \"<ruta al archivo de la query .sql>\", \"guardarcomo\": \"<nombre con el que guardar el archivo en sharepoint>.xlsx\", \"params\": [\"<variables del c칩digo a incrustar en la query, suelen ser fechas>\" \"sharepoint\": { \"site_url\": \"<url del sitio principal del sharepoint>\", \"relative_folder\": \"<ruta relativa al folder donde se va a guardar el reporte>\" } } ",
      "ntitle": 1,
      "pages": [
        2,
        2
      ],
      "links": false
    },
    {
      "title": "SQL",
      "content": "\"especiales\": { \"<nombre del reporte>\": { \"horario\": \"<puede ser: diario, semanal, mensual o trimestral>\", \"script\": \"<ruta al archivo del script .py>\", \"params\": \"<en este caso los parametros se pasan como argumentos de } }  Sharepoint",
      "ntitle": 3,
      "pages": [
        2,
        3
      ],
      "links": false
    },
    {
      "title": "Despliegue y Notas",
      "content": "丘멆잺 Actualmente dada que la conexi칩n a la DB es mediante una trusted connection no se puede ejecutar el sistema en un docker, creo , dado que la conexi칩n es con el usuario de Microsoft del equipo. 丘뙖잺 El desarrollo de este proyecto es en python, puramente un script ejecutable, aunque creo que podr칤a ser una buena idea a futuro combinar el uso de n8n con este c칩digo, para tener mejores est치ndares y flujos de desarrollo y automatizaci칩n. 游눹 Creo que se deber칤a de crear un usuario de DB espec칤ficamente para acceder como automatizaci칩n, un rol que tenga 칰nicamente permisos de lectura. Automatizaci칩n de reportes 4 ",
      "ntitle": 10,
      "pages": [
        3,
        3
      ],
      "links": false
    }
  ]
}